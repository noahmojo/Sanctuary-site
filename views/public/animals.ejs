<%- include('../partials/header', { settings, title: 'Our Animals' }) %>

<section class="py-12">
  <div class="max-w-6xl mx-auto px-6">
    <h1 class="text-4xl font-light text-sage-800 mb-8 text-center">Our Animals</h1>
    
    <div class="bg-white rounded-xl p-6 mb-8 shadow-sm">
      <form method="GET" class="flex flex-wrap gap-4 items-center justify-center">
        <label class="text-sage-700">Filter:</label>
        <select name="breed" class="border border-sage-200 rounded-lg px-4 py-2">
          <option value="">All Breeds</option>
          <% breeds.forEach(b => { %>
            <option value="<%= b %>" <%= currentBreed === b ? 'selected' : '' %>><%= b %></option>
          <% }); %>
        </select>
        
        <label class="text-sage-700 ml-4">Sort:</label>
        <select name="sort" class="border border-sage-200 rounded-lg px-4 py-2">
          <option value="">Default</option>
          <option value="name" <%= currentSort === 'name' ? 'selected' : '' %>>Name</option>
          <option value="age" <%= currentSort === 'age' ? 'selected' : '' %>>Age</option>
        </select>
        
        <button type="submit" class="bg-sage-600 text-white px-6 py-2 rounded-lg hover:bg-sage-700 transition">Apply</button>
        <% if (currentBreed || currentSort) { %>
          <a href="/animals" class="text-sage-600 hover:underline">Clear</a>
        <% } %>
      </form>
    </div>
    
    <div class="grid md:grid-cols-3 gap-8">
      <% animals.forEach(animal => { %>
        <a href="/animal/<%= animal.id %>" class="group">
          <div class="bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-xl transition">
            <% if (animal.photos && animal.photos.length > 0) { %>
              <img src="<%= animal.photos[0] %>" alt="<%= animal.name %>" class="w-full h-56 object-cover group-hover:scale-105 transition duration-300">
            <% } else { %>
              <div class="w-full h-56 bg-gradient-to-br from-sand-100 to-sand-200 flex items-center justify-center text-6xl">ðŸ¦™</div>
            <% } %>
            <div class="p-6">
              <div class="flex items-center gap-2 mb-1">
                <h3 class="text-xl font-semibold text-sage-800"><%= animal.name %></h3>
                <% if (animal.featured) { %><span class="bg-amber-100 text-amber-700 text-xs px-2 py-0.5 rounded-full">Featured</span><% } %>
              </div>
              <p class="text-sage-500"><%= animal.species %> â€¢ <%= animal.breed %></p>
              <p class="text-sage-500 text-sm"><%= calcAge(animal.birthday) %> old</p>
              <p class="text-sage-600 mt-2"><%= animal.personality %></p>
            </div>
          </div>
        </a>
      <% }); %>
    </div>
  </div>
</section>

<%- include('../partials/footer', { settings }) %>
